<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Xephyr: ToyFitterExclusion Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Xephyr
   &#160;<span id="projectnumber">0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classToyFitterExclusion-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ToyFitterExclusion Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to handle the fitting of toy dataset for limit production.  
 <a href="classToyFitterExclusion.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ToyFitterExclusion_8h_source.html">ToyFitterExclusion.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ToyFitterExclusion:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classToyFitterExclusion.png" usemap="#ToyFitterExclusion_map" alt=""/>
  <map id="ToyFitterExclusion_map" name="ToyFitterExclusion_map">
<area href="classerrorHandler.html" title="Helper Class to send consistently formatted messages. It allows different levels of severity for the ..." alt="errorHandler" shape="rect" coords="0,0,116,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3c3bf73ca8b66173ed6d444c00782aa1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c3bf73ca8b66173ed6d444c00782aa1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToyFitterExclusion.html#a3c3bf73ca8b66173ed6d444c00782aa1">ToyFitterExclusion</a> (TString CollectionName)</td></tr>
<tr class="memdesc:a3c3bf73ca8b66173ed6d444c00782aa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor, CollectionName is the name of the tree collection to fit, by convention set by <a class="el" href="classToyGenerator.html" title="Helper class to generate toys given an input likelihood. It can generate toys for the calibration dat...">ToyGenerator</a> this is also the name of the file. <br/></td></tr>
<tr class="separator:a3c3bf73ca8b66173ed6d444c00782aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33f6a1e288728b822eb53a95401ec8df"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToyFitterExclusion.html#a33f6a1e288728b822eb53a95401ec8df">computeTS</a> (double mu)</td></tr>
<tr class="memdesc:a33f6a1e288728b822eb53a95401ec8df"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the Test Statistic q_tilde(mu) for a value of mu_test.  <a href="#a33f6a1e288728b822eb53a95401ec8df">More...</a><br/></td></tr>
<tr class="separator:a33f6a1e288728b822eb53a95401ec8df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc5debc49e1a7244d5d6b976228358b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToyFitterExclusion.html#a9dc5debc49e1a7244d5d6b976228358b">fit</a> (double mu, int stopAt=-999)</td></tr>
<tr class="memdesc:a9dc5debc49e1a7244d5d6b976228358b"><td class="mdescLeft">&#160;</td><td class="mdescRight">given as input a file with many data toys, it writes a tree with fit outputs  <a href="#a9dc5debc49e1a7244d5d6b976228358b">More...</a><br/></td></tr>
<tr class="separator:a9dc5debc49e1a7244d5d6b976228358b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4bf57dd0e68d8fe9b429db6cee654c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4bf57dd0e68d8fe9b429db6cee654c5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToyFitterExclusion.html#ad4bf57dd0e68d8fe9b429db6cee654c5">setTheLikelihood</a> (<a class="el" href="classProfileLikelihood.html">ProfileLikelihood</a> *like)</td></tr>
<tr class="memdesc:ad4bf57dd0e68d8fe9b429db6cee654c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the likelihood to fit <br/></td></tr>
<tr class="separator:ad4bf57dd0e68d8fe9b429db6cee654c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fa0d6cd555c415b7d94264e5974466a"><td class="memItemLeft" align="right" valign="top">TGraphAsymmErrors&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToyFitterExclusion.html#a3fa0d6cd555c415b7d94264e5974466a">computeTSDistros</a> (TString fileName, double *mu_list, int mu_size)</td></tr>
<tr class="memdesc:a3fa0d6cd555c415b7d94264e5974466a"><td class="mdescLeft">&#160;</td><td class="mdescRight">produces a TGraph with the 90% quantiles of the alternate Hypothesis.  <a href="#a3fa0d6cd555c415b7d94264e5974466a">More...</a><br/></td></tr>
<tr class="separator:a3fa0d6cd555c415b7d94264e5974466a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a7bdea8f1c522c6c79281ee2ca343a"><td class="memItemLeft" align="right" valign="top">TGraphAsymmErrors&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToyFitterExclusion.html#aa6a7bdea8f1c522c6c79281ee2ca343a">computeTSDistros</a> (TTree *tree, double *mu_list, int mu_size)</td></tr>
<tr class="memdesc:aa6a7bdea8f1c522c6c79281ee2ca343a"><td class="mdescLeft">&#160;</td><td class="mdescRight">produces a TGraph with the 90% quantiles of the alternate Hypothesis.  <a href="#aa6a7bdea8f1c522c6c79281ee2ca343a">More...</a><br/></td></tr>
<tr class="separator:aa6a7bdea8f1c522c6c79281ee2ca343a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f93fde9978020f2f3ac11f7c2a2b11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToyFitterExclusion.html#a5f93fde9978020f2f3ac11f7c2a2b11d">spitTheLimit</a> (TGraphAsymmErrors *ninety_quantiles, int sopAt=-999)</td></tr>
<tr class="separator:a5f93fde9978020f2f3ac11f7c2a2b11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a068fb50544da2d1b5f71903fce5547dd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a068fb50544da2d1b5f71903fce5547dd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToyFitterExclusion.html#a068fb50544da2d1b5f71903fce5547dd">setInputDir</a> (TString path)</td></tr>
<tr class="memdesc:a068fb50544da2d1b5f71903fce5547dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">set path to input file (only dir no file name) <br/></td></tr>
<tr class="separator:a068fb50544da2d1b5f71903fce5547dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a212ea61cb7360c82b998142468f57ceb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a212ea61cb7360c82b998142468f57ceb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToyFitterExclusion.html#a212ea61cb7360c82b998142468f57ceb">setOutputDir</a> (TString path)</td></tr>
<tr class="memdesc:a212ea61cb7360c82b998142468f57ceb"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the path to dir in which the fits are stored otherwise is current <br/></td></tr>
<tr class="separator:a212ea61cb7360c82b998142468f57ceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ffed924b2e896939c4b459316eae4f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a33ffed924b2e896939c4b459316eae4f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setRandomizeMeasure</b> (bool doOrNot)</td></tr>
<tr class="separator:a33ffed924b2e896939c4b459316eae4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9238f72794cbde20a517f2e8545c85ed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9238f72794cbde20a517f2e8545c85ed"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setTreeName</b> (TString newName)</td></tr>
<tr class="separator:a9238f72794cbde20a517f2e8545c85ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea9af00f5992a3e85ac4052f3c720fd0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aea9af00f5992a3e85ac4052f3c720fd0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setSeed</b> (ULong_t seed)</td></tr>
<tr class="separator:aea9af00f5992a3e85ac4052f3c720fd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a0b2e12564e6320a58594b7f4db9cb5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a0b2e12564e6320a58594b7f4db9cb5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setCalibrationTreeName</b> (TString newName)</td></tr>
<tr class="separator:a4a0b2e12564e6320a58594b7f4db9cb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c7516e7da1655efd6f35d24795d2c0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00c7516e7da1655efd6f35d24795d2c0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setOutputSuffix</b> (TString name)</td></tr>
<tr class="separator:a00c7516e7da1655efd6f35d24795d2c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classerrorHandler"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classerrorHandler')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classerrorHandler.html">errorHandler</a></td></tr>
<tr class="memitem:a6623a8447ef7ea5fed7aed2f31d19636 inherit pub_methods_classerrorHandler"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a6623a8447ef7ea5fed7aed2f31d19636">errorHandler</a> (TString name)</td></tr>
<tr class="separator:a6623a8447ef7ea5fed7aed2f31d19636 inherit pub_methods_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d5f801832b893cf411e84fbb5177e24 inherit pub_methods_classerrorHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a0d5f801832b893cf411e84fbb5177e24">Error</a> (TString functionName, TString message)</td></tr>
<tr class="memdesc:a0d5f801832b893cf411e84fbb5177e24 inherit pub_methods_classerrorHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an Error message to the user.  <a href="#a0d5f801832b893cf411e84fbb5177e24">More...</a><br/></td></tr>
<tr class="separator:a0d5f801832b893cf411e84fbb5177e24 inherit pub_methods_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f056715257f6e9ebd9bd03a39ed1de inherit pub_methods_classerrorHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a75f056715257f6e9ebd9bd03a39ed1de">Warning</a> (TString functionName, TString message)</td></tr>
<tr class="memdesc:a75f056715257f6e9ebd9bd03a39ed1de inherit pub_methods_classerrorHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a Warning message to the user.  <a href="#a75f056715257f6e9ebd9bd03a39ed1de">More...</a><br/></td></tr>
<tr class="separator:a75f056715257f6e9ebd9bd03a39ed1de inherit pub_methods_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73a8d5ef2b239229be91213a15597a17 inherit pub_methods_classerrorHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a73a8d5ef2b239229be91213a15597a17">Info</a> (TString functionName, TString message)</td></tr>
<tr class="memdesc:a73a8d5ef2b239229be91213a15597a17 inherit pub_methods_classerrorHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an Info message to the user.  <a href="#a73a8d5ef2b239229be91213a15597a17">More...</a><br/></td></tr>
<tr class="separator:a73a8d5ef2b239229be91213a15597a17 inherit pub_methods_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d4b552a426289906710c6855506ae14 inherit pub_methods_classerrorHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a1d4b552a426289906710c6855506ae14">Debug</a> (TString functionName, TString message)</td></tr>
<tr class="memdesc:a1d4b552a426289906710c6855506ae14 inherit pub_methods_classerrorHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a Debug message to the user.  <a href="#a1d4b552a426289906710c6855506ae14">More...</a><br/></td></tr>
<tr class="separator:a1d4b552a426289906710c6855506ae14 inherit pub_methods_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8abfce01e4c3bd9bf7810741b9dbeea1 inherit pub_methods_classerrorHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a8abfce01e4c3bd9bf7810741b9dbeea1">setPrintLevel</a> (int level)</td></tr>
<tr class="memdesc:a8abfce01e4c3bd9bf7810741b9dbeea1 inherit pub_methods_classerrorHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the local printing level (for this instance only)  <a href="#a8abfce01e4c3bd9bf7810741b9dbeea1">More...</a><br/></td></tr>
<tr class="separator:a8abfce01e4c3bd9bf7810741b9dbeea1 inherit pub_methods_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e34b712a579e00cfc8e23bceae98b3 inherit pub_methods_classerrorHandler"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a44e34b712a579e00cfc8e23bceae98b3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a44e34b712a579e00cfc8e23bceae98b3">getPrintLevel</a> ()</td></tr>
<tr class="memdesc:a44e34b712a579e00cfc8e23bceae98b3 inherit pub_methods_classerrorHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current print level for this instance. remind that if you set with setPrintLevel this will override the global print level. <br/></td></tr>
<tr class="separator:a44e34b712a579e00cfc8e23bceae98b3 inherit pub_methods_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_classerrorHandler"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classerrorHandler')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classerrorHandler.html">errorHandler</a></td></tr>
<tr class="memitem:a10dd01d847afd87386afeedc93e98460 inherit pub_attribs_classerrorHandler"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a10dd01d847afd87386afeedc93e98460">localPrintLevel</a></td></tr>
<tr class="separator:a10dd01d847afd87386afeedc93e98460 inherit pub_attribs_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07f838eebf13b018a0892214d5998015 inherit pub_attribs_classerrorHandler"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a07f838eebf13b018a0892214d5998015"></a>
TString&#160;</td><td class="memItemRight" valign="bottom"><b>className</b></td></tr>
<tr class="separator:a07f838eebf13b018a0892214d5998015 inherit pub_attribs_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classerrorHandler"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classerrorHandler')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classerrorHandler.html">errorHandler</a></td></tr>
<tr class="memitem:aa5abc1d5f2db3898f40c393721d7b123 inherit pub_static_attribs_classerrorHandler"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#aa5abc1d5f2db3898f40c393721d7b123">globalPrintLevel</a> = 1</td></tr>
<tr class="separator:aa5abc1d5f2db3898f40c393721d7b123 inherit pub_static_attribs_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to handle the fitting of toy dataset for limit production. </p>
<ul>
<li>Produces a Tree with all the post fit values.</li>
<li>Produces distributions of f(mu=mu_true | H_mu) and the 90% quantiles for a set of mu values.</li>
<li>Computes sensitivity + bands</li>
<li>Given a science dataset it compute the limit. </li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a33f6a1e288728b822eb53a95401ec8df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ToyFitterExclusion::computeTS </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the Test Statistic q_tilde(mu) for a value of mu_test. </p>
<p>It is a reproduction of q_tilde test statistic from equation 16 of: <a href="https://arxiv.org/abs/1007.1727">https://arxiv.org/abs/1007.1727</a> this is suitable for upper limit in which the parameter of interest must be &gt;0. For it to work correctly is important to set up the likelihood beforehand. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mu</td><td>the signal strenght for conditional fit. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3fa0d6cd555c415b7d94264e5974466a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TGraphAsymmErrors ToyFitterExclusion::computeTSDistros </td>
          <td>(</td>
          <td class="paramtype">TString&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>mu_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mu_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>produces a TGraph with the 90% quantiles of the alternate Hypothesis. </p>
<p>it is used to compute limits. The TH1F of the test statistic f(q_mu | H_mu) are stored in a root file toghether with the TGraph of 90% quantiles. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>takes as input the hadded post fit output from <a class="el" href="classToyFitterExclusion.html#a9dc5debc49e1a7244d5d6b976228358b" title="given as input a file with many data toys, it writes a tree with fit outputs ">fit()</a> of this class. </td></tr>
    <tr><td class="paramname">mu_list</td><td>is the list of true mu hypothesis present in the file tree. </td></tr>
    <tr><td class="paramname">mu_size</td><td>is the size of the previous list. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa6a7bdea8f1c522c6c79281ee2ca343a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TGraphAsymmErrors ToyFitterExclusion::computeTSDistros </td>
          <td>(</td>
          <td class="paramtype">TTree *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>mu_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mu_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>produces a TGraph with the 90% quantiles of the alternate Hypothesis. </p>
<p>it is used to compute limits. The TH1F of the test statistic f(q_mu | H_mu) are stored in a root file toghether with the TGraph of 90% quantiles. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>takes as input the tree of post fit output from <a class="el" href="classToyFitterExclusion.html#a9dc5debc49e1a7244d5d6b976228358b" title="given as input a file with many data toys, it writes a tree with fit outputs ">fit()</a> of this class. </td></tr>
    <tr><td class="paramname">mu_list</td><td>is the list of true mu hypothesis present in the file tree. </td></tr>
    <tr><td class="paramname">mu_size</td><td>is the size of the previous list. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9dc5debc49e1a7244d5d6b976228358b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ToyFitterExclusion::fit </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stopAt</em> = <code>-999</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>given as input a file with many data toys, it writes a tree with fit outputs </p>
<p>Note that it expects a toy file generated with naming convention of <a class="el" href="classToyGenerator.html" title="Helper class to generate toys given an input likelihood. It can generate toys for the calibration dat...">ToyGenerator</a>. The output tree contains: conditional and unconditional nuisance parameter post fit values, and the test statistic. This is supposed to be used for the alternative hypotesis fits, to be able to generate aftewards the graph of 90th percentiles.  mu: the signal strenght of the conditional fit.  soptAt: optional, the number of toy in file you want to fit. NOTE: by deafulte this will randomize the NP measures during fit for each toy, setRandomizeMeasure(false) if you don't want. </p>

</div>
</div>
<a class="anchor" id="a5f93fde9978020f2f3ac11f7c2a2b11d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ToyFitterExclusion::spitTheLimit </td>
          <td>(</td>
          <td class="paramtype">TGraphAsymmErrors *&#160;</td>
          <td class="paramname"><em>ninety_quantiles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sopAt</em> = <code>-999</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>given a input file with N null Hypo toy trees it produce an out tree containing post fits and limit.</p>
<p>note that this can be used also with just a signle tree, for real data limit production. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ninety_quantiles</td><td>graph of 90% quantiles as produced from <a class="el" href="classToyFitterExclusion.html#a3fa0d6cd555c415b7d94264e5974466a" title="produces a TGraph with the 90% quantiles of the alternate Hypothesis. ">computeTSDistros()</a>. </td></tr>
    <tr><td class="paramname">TreeName</td><td>prefix name of the tree list you fit. To se the input file file use setPathToFile() method.  soptAt: optional, the number of toy in file you want to fit. NOTE: by deafulte this will randomize the NP measures during fit for each toy, setRandomizeMeasure(false) if you don't want. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>SOURCE/src/<a class="el" href="ToyFitterExclusion_8h_source.html">ToyFitterExclusion.h</a></li>
<li>SOURCE/src/ToyFitterExclusion.cxx</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
