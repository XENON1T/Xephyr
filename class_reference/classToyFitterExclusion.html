<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Xephyr: ToyFitterExclusion Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Xephyr
   &#160;<span id="projectnumber">0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classToyFitterExclusion-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ToyFitterExclusion Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for ToyFitterExclusion:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classToyFitterExclusion.png" usemap="#ToyFitterExclusion_map" alt=""/>
  <map id="ToyFitterExclusion_map" name="ToyFitterExclusion_map">
<area href="classerrorHandler.html" title="Helper Class to send consistently formatted messages. It allows different levels of severity for the ..." alt="errorHandler" shape="rect" coords="0,0,116,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5d97092251e4cb83c27299446e3bee91"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d97092251e4cb83c27299446e3bee91"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToyFitterExclusion.html#a5d97092251e4cb83c27299446e3bee91">ToyFitterExclusion</a> (TString pathToFile)</td></tr>
<tr class="memdesc:a5d97092251e4cb83c27299446e3bee91"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor, pathToFile is the name of the file including path to fit, by convenction this ia also the name of the file. <br/></td></tr>
<tr class="separator:a5d97092251e4cb83c27299446e3bee91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33f6a1e288728b822eb53a95401ec8df"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToyFitterExclusion.html#a33f6a1e288728b822eb53a95401ec8df">computeTS</a> (double mu)</td></tr>
<tr class="memdesc:a33f6a1e288728b822eb53a95401ec8df"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the Test Statistic q_tilde(mu) for a value of mu_test.  <a href="#a33f6a1e288728b822eb53a95401ec8df">More...</a><br/></td></tr>
<tr class="separator:a33f6a1e288728b822eb53a95401ec8df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5067305321c4657fce888faf2204008"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToyFitterExclusion.html#aa5067305321c4657fce888faf2204008">fit</a> (double mu, TString nameTree)</td></tr>
<tr class="memdesc:aa5067305321c4657fce888faf2204008"><td class="mdescLeft">&#160;</td><td class="mdescRight">given as input a file with many data toys, it writes a tree with fit outputs  <a href="#aa5067305321c4657fce888faf2204008">More...</a><br/></td></tr>
<tr class="separator:aa5067305321c4657fce888faf2204008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d59678b970fd3b1878557ad6b3e8f0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a06d59678b970fd3b1878557ad6b3e8f0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToyFitterExclusion.html#a06d59678b970fd3b1878557ad6b3e8f0">setTheLikelihood</a> (<a class="el" href="classpdfLikelihood.html">pdfLikelihood</a> *like)</td></tr>
<tr class="memdesc:a06d59678b970fd3b1878557ad6b3e8f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the likelihood to fit <br/></td></tr>
<tr class="separator:a06d59678b970fd3b1878557ad6b3e8f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a212ea61cb7360c82b998142468f57ceb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a212ea61cb7360c82b998142468f57ceb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToyFitterExclusion.html#a212ea61cb7360c82b998142468f57ceb">setOutputDir</a> (TString path)</td></tr>
<tr class="memdesc:a212ea61cb7360c82b998142468f57ceb"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the path to dir in which the fits are stored otherwise is current <br/></td></tr>
<tr class="separator:a212ea61cb7360c82b998142468f57ceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classerrorHandler"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classerrorHandler')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classerrorHandler.html">errorHandler</a></td></tr>
<tr class="memitem:a6623a8447ef7ea5fed7aed2f31d19636 inherit pub_methods_classerrorHandler"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a6623a8447ef7ea5fed7aed2f31d19636">errorHandler</a> (TString name)</td></tr>
<tr class="separator:a6623a8447ef7ea5fed7aed2f31d19636 inherit pub_methods_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d5f801832b893cf411e84fbb5177e24 inherit pub_methods_classerrorHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a0d5f801832b893cf411e84fbb5177e24">Error</a> (TString functionName, TString message)</td></tr>
<tr class="memdesc:a0d5f801832b893cf411e84fbb5177e24 inherit pub_methods_classerrorHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an Error message to the user.  <a href="#a0d5f801832b893cf411e84fbb5177e24">More...</a><br/></td></tr>
<tr class="separator:a0d5f801832b893cf411e84fbb5177e24 inherit pub_methods_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f056715257f6e9ebd9bd03a39ed1de inherit pub_methods_classerrorHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a75f056715257f6e9ebd9bd03a39ed1de">Warning</a> (TString functionName, TString message)</td></tr>
<tr class="memdesc:a75f056715257f6e9ebd9bd03a39ed1de inherit pub_methods_classerrorHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a Warning message to the user.  <a href="#a75f056715257f6e9ebd9bd03a39ed1de">More...</a><br/></td></tr>
<tr class="separator:a75f056715257f6e9ebd9bd03a39ed1de inherit pub_methods_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73a8d5ef2b239229be91213a15597a17 inherit pub_methods_classerrorHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a73a8d5ef2b239229be91213a15597a17">Info</a> (TString functionName, TString message)</td></tr>
<tr class="memdesc:a73a8d5ef2b239229be91213a15597a17 inherit pub_methods_classerrorHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an Info message to the user.  <a href="#a73a8d5ef2b239229be91213a15597a17">More...</a><br/></td></tr>
<tr class="separator:a73a8d5ef2b239229be91213a15597a17 inherit pub_methods_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d4b552a426289906710c6855506ae14 inherit pub_methods_classerrorHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a1d4b552a426289906710c6855506ae14">Debug</a> (TString functionName, TString message)</td></tr>
<tr class="memdesc:a1d4b552a426289906710c6855506ae14 inherit pub_methods_classerrorHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a Debug message to the user.  <a href="#a1d4b552a426289906710c6855506ae14">More...</a><br/></td></tr>
<tr class="separator:a1d4b552a426289906710c6855506ae14 inherit pub_methods_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8abfce01e4c3bd9bf7810741b9dbeea1 inherit pub_methods_classerrorHandler"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a8abfce01e4c3bd9bf7810741b9dbeea1">setPrintLevel</a> (int level)</td></tr>
<tr class="memdesc:a8abfce01e4c3bd9bf7810741b9dbeea1 inherit pub_methods_classerrorHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the local printing level (for this instance only)  <a href="#a8abfce01e4c3bd9bf7810741b9dbeea1">More...</a><br/></td></tr>
<tr class="separator:a8abfce01e4c3bd9bf7810741b9dbeea1 inherit pub_methods_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e34b712a579e00cfc8e23bceae98b3 inherit pub_methods_classerrorHandler"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a44e34b712a579e00cfc8e23bceae98b3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a44e34b712a579e00cfc8e23bceae98b3">getPrintLevel</a> ()</td></tr>
<tr class="memdesc:a44e34b712a579e00cfc8e23bceae98b3 inherit pub_methods_classerrorHandler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current print level for this instance. remind that if you set with setPrintLevel this will override the global print level. <br/></td></tr>
<tr class="separator:a44e34b712a579e00cfc8e23bceae98b3 inherit pub_methods_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_classerrorHandler"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classerrorHandler')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classerrorHandler.html">errorHandler</a></td></tr>
<tr class="memitem:a10dd01d847afd87386afeedc93e98460 inherit pub_attribs_classerrorHandler"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#a10dd01d847afd87386afeedc93e98460">localPrintLevel</a></td></tr>
<tr class="separator:a10dd01d847afd87386afeedc93e98460 inherit pub_attribs_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07f838eebf13b018a0892214d5998015 inherit pub_attribs_classerrorHandler"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a07f838eebf13b018a0892214d5998015"></a>
TString&#160;</td><td class="memItemRight" valign="bottom"><b>className</b></td></tr>
<tr class="separator:a07f838eebf13b018a0892214d5998015 inherit pub_attribs_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classerrorHandler"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classerrorHandler')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classerrorHandler.html">errorHandler</a></td></tr>
<tr class="memitem:aa5abc1d5f2db3898f40c393721d7b123 inherit pub_static_attribs_classerrorHandler"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classerrorHandler.html#aa5abc1d5f2db3898f40c393721d7b123">globalPrintLevel</a> = 1</td></tr>
<tr class="separator:aa5abc1d5f2db3898f40c393721d7b123 inherit pub_static_attribs_classerrorHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a33f6a1e288728b822eb53a95401ec8df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ToyFitterExclusion::computeTS </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the Test Statistic q_tilde(mu) for a value of mu_test. </p>
<p>It is a reproduction of q_tilde test statistic from equation 16 of: <a href="https://arxiv.org/abs/1007.1727">https://arxiv.org/abs/1007.1727</a> this is suitable for upper limit in which the parameter of interest must be &gt;0. For it to work correctly is important to set up the likelihood beforehand. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mu</td><td>the signal strenght for conditional fit. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa5067305321c4657fce888faf2204008"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ToyFitterExclusion::fit </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TString&#160;</td>
          <td class="paramname"><em>nameTree</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>given as input a file with many data toys, it writes a tree with fit outputs </p>
<p>Note that it expects a toy file generated with naming convention of <a class="el" href="classToyGenerator.html" title="Helper class to generate toys given an input likelihood. It can generate toys for the calibration dat...">ToyGenerator</a>. The output tree contains: conditional and unconditional nuisance parameter post fit values, and the test statistic. This is supposed to be used for the alternative hypotesis fits, to be able to generate aftewards the graph of 90th percentiles.  mu: the signal strenght of the conditional fit </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nameTree</td><td>the name prefix of the tree inside the file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>SOURCE/src/<a class="el" href="ToyFitterExclusion_8h_source.html">ToyFitterExclusion.h</a></li>
<li>SOURCE/src/ToyFitterExclusion.cxx</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
